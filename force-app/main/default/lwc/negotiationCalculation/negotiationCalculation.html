<template>
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
            <header class="slds-modal__header">
                <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Subgroup Negotiation</h2>
            </header>
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                <table border="1">
                    <tr>
                        <th>Totals</th>
                        <th>Negotiations</th>
                        <th>Current Amount</th>
                    </tr>
                    <tr>
                        <td>Total Sell Price</td>
                        <td><lightning-input type="number"
                            step="any" 
                            variant="label-hidden" 
                            data-name="subGroupTotal"
                            value={subGroupTotal}
                            onfocusout={handleChange}>
                            </lightning-input></td>
                        <td>
                            <lightning-formatted-number value={subGrpWrapper.subGroupTotal}
                                                format-style="currency"
                                                currency-code="USD">
                            </lightning-formatted-number>
                        </td>
                    </tr>
                    <tr>
                        <td>Total Project Margin ($)</td>
                        <td><lightning-input type="number"
                            step="any" 
                            variant="label-hidden" 
                            data-name="projectMargin"
                            value={projectMargin}
                            onfocusout={handleChange}>
                            </lightning-input></td>
                        <td>${subGrpWrapper.projectMargin}</td>
                    </tr>
                    <tr>
                        <td>Total Project Margin (%)</td>
                        <td><lightning-input type="number"
                            step="any" 
                            variant="label-hidden" 
                            data-name="projectMarginPercent"
                            value={projectMarginPercent}
                            onfocusout={handleChange}>
                            </lightning-input></td>
                        <td>{subGrpWrapper.projectMarginPercent}%</td>
                    </tr>
                    <tr>
                        <td>Change Margin (%) to:</td>
                        <td colspan="2">{changedMarginPercentage}</td>
                    </tr>
                </table>
            </div>
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick={handleClose}>Cancel</button>
                    <button class="slds-button slds-button_brand" onclick={acceptChanges}>Accept Changes</button>
                </footer>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
</template>